<!DOCTYPE html>
<html>
<head>
  <title>Sensor Based Economy</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <style>
    body { margin: 0; padding: 0; width: 100%; margin: 0 auto; }
    body > img { width: 100vw; }
    .btn {
      display: block;
      margin: auto;
      background-color: dodgerblue;
      color: white;
      font-size: 2vw;
      border-radius: 0.5vw;
      width: 10vw;
      height: 5vw;
    }
    .btn:hover {
      cursor: pointer;
    }
    .banner { display: block; width: 65vw; }
    .top { margin-left: 18vw; padding: 2vw;}
    .middle{ margin-left: 8vw; }
    #side-ad { position: absolute; left: 76vw; top: 35vw; width: 21vw; }
  </style>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
  <script src='../../scripts/pin-viewer1.js'></script>
  <script src='../scripts/notify-bottom.js'></script>
  <script src='../scripts/session-storage.js'></script>
  <script src='../../scripts/randomize.js'></script>
</head>
<body>
<img alt="" src="image-1 .png">
<img id="top-banner" class="banner top" src="../ads/banner_1.png">
<img id="side-ad" src="../ads/side_ad_1.png">
<img alt="" src="image-2.png">
<img id="middle-banner-1" class="banner middle" src="../ads/banner_1.png">
<img alt="" src="image-3.png">
<img id="middle-banner-2" class="banner middle" src="../ads/banner_1.png">
<img alt="" src="image-4.png">
<img id="middle-banner-3" class="banner middle" src="../ads/banner_1.png">
<img alt="" src="image-5.png">
<input id="back-button" type="button" class="btn" onclick="location.href='../hub/page.html'" value="Back">
<script>
  var banners = ['banner_1.png', 'banner_2.png', 'banner_3.png', 'banner_4.png', 'banner_5.png', 'banner_6.png'];
  var sideAds = ['side_ad_1.png', 'side_ad_2.png', 'side_ad_3.png', 'side_ad_4.png', 'side_ad_5.png'];
  function choose(target, list) { target.src = list[Math.floor(Math.random() * list.length)] }
  function addPath(list) { return list.map(function(entry) { return "../ads/" + entry }) }
  choose(document.querySelector('#top-banner'), addPath(banners));
  choose(document.querySelector('#middle-banner-1'), addPath(banners));
  choose(document.querySelector('#middle-banner-2'), addPath(banners));
  choose(document.querySelector('#middle-banner-3'), addPath(banners));
  choose(document.querySelector('#side-ad'), addPath(sideAds));
  pin('#side-ad', 400, 4700);

  var ad_path = "../ads/";
  var banner_ads = [
    { url: 'banner_1.png', duration: 10000},
    { url: 'banner_2.png', duration: 10000},
    { url: 'banner_3.png', duration: 10000},
    { url: 'banner_4.png', duration: 10000},
    { url: 'banner_5.png', duration: 10000},
    { url: 'banner_6.png', duration: 10000}
  ];
  var side_ads = [
    { url: 'side_ad_1.png', duration: 10000},
    { url: 'side_ad_2.png', duration: 10000},
    { url: 'side_ad_3.png', duration: 10000},
    { url: 'side_ad_4.png', duration: 10000},
    { url: 'side_ad_5.png', duration: 10000}
  ];

  randomizeAds('#top-banner', ad_path, banner_ads);
  randomizeAds('#middle-banner-1', ad_path, banner_ads);
  randomizeAds('#middle-banner-2', ad_path, banner_ads);
  randomizeAds('#middle-banner-3', ad_path, banner_ads);
  randomizeAds('#side-ad', ad_path, side_ads);
  if (!window.params)
  {
    window.params = window.location.search.substr(1).split(/&/).reduce(function(h,s)
    { var pos = s.indexOf('=');
      if (pos) h[s.substr(0,pos)] = s.substr(pos+1); else h[s] = true; return h; }, {});

    console.log('window.params', window.params);
    if(window.params['no-button'] == "true") {
      button = document.querySelector('#back-button');
      button.style="display: none;"

      var s = document.createElement('script');
      s.src = "../../scripts/notify-bottom.js";
      document.head.appendChild(s);
    }
  }

</script>
</body>
</html>
